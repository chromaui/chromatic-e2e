<!DOCTYPE html>
<html>
  <head>
    <style>
      .shadowHost {
        background: lightgray;
        padding: 10px;
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Constructable Stylesheets in Shadow DOM</h1>
    <div class="shadowHost">
      <h2>This section should have been generated using shadow DOM</h2>
    </div>
    <h2>Subheading outside the shadow DOM, unaffected by styles</h2>
    <p>Paragraph outside the shadow DOM, unaffected by styles.</p>
    <script type="text/javascript">
      const shadowElement = document.querySelector('.shadowHost');
      const shadow = shadowElement.attachShadow({ mode: 'open' });

      const subHeading = document.createElement('h2');
      subHeading.innerHTML = 'This section is generated using shadow DOM';
      shadow.appendChild(subHeading);

      const paragraph = document.createElement('p');
      paragraph.innerHTML =
        'It uses its own header and paragraph colors, defined within the shadow DOM.';
      shadow.appendChild(paragraph);

      const styles = new CSSStyleSheet();
      styles.replaceSync('h2 { color: purple; } p { color: red; }');
      shadow.adoptedStyleSheets = [styles];
    </script>
  </body>
</html>
