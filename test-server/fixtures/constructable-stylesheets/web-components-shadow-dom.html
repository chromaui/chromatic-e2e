<!DOCTYPE html>
<html>
  <head>
    <style>
      .webComponents {
        background: lightgray;
        padding: 10px;
        margin: 10px;
      }
    </style>
    <script type="text/javascript">
      class StyledComponent extends HTMLElement {
        constructor() {
          super();
          const shadow = this.attachShadow({ mode: 'open' });

          const h2 = document.createElement('h2');
          h2.textContent = 'This section is generated using a Web Component';

          const p = document.createElement('p');
          p.textContent =
            'It uses its own header and paragraph colors, defined within the Web Component.';

          const stylesheet = new CSSStyleSheet();
          stylesheet.replaceSync(`
            h2 {
              color: blue;
            }
            p {
              color: green;
            }
          `);

          shadow.adoptedStyleSheets = [stylesheet];
          shadow.appendChild(h2);
          shadow.appendChild(p);
        }
      }
      customElements.define('styled-component', StyledComponent);
    </script>
  </head>
  <body>
    <h1>Constructable Stylesheets in Web Components in Shadow DOM</h1>
    <div class="webComponents">
      <styled-component></styled-component>
    </div>
    <h2>Subheading outside the Web Component, unaffected by styles</h2>
    <p>Paragraph outside the Web Component, unaffected by styles.</p>
  </body>
</html>
