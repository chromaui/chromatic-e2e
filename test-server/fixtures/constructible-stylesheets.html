<!DOCTYPE html>
<html>
  <head>
    <style>
      .shadowHost {
        background: lightgray;
        padding: 10px;
        margin: 10px;
      }
    </style>
    <script type="text/javascript">
      const stylesheet = new CSSStyleSheet();
      stylesheet.replaceSync('body { background: blue; } h1 { color: yellow; } p { color: cyan; }');
      document.adoptedStyleSheets = [stylesheet];
    </script>
  </head>
  <body>
    <h1>Constructible Stylesheets (sort of the other CSS)</h1>
    <p>
      This page is styled with constructible stylesheets, setting the header, paragraph, and body
      colors.
    </p>
    <div class="shadowHost">
      <h2>This section should have been generated using shadow DOM</h2>
    </div>
    <script type="text/javascript">
      const shadowElement = document.querySelector('.shadowHost');
      const shadow = shadowElement.attachShadow({ mode: 'open' });

      const subHeading = document.createElement('h2');
      subHeading.innerHTML = 'This section is generated using shadow DOM';
      shadow.appendChild(subHeading);

      const paragraph = document.createElement('p');
      paragraph.innerHTML =
        'It uses its own header and paragraph colors, defined within the shadow DOM.';
      shadow.appendChild(paragraph);

      const styles = new CSSStyleSheet();
      styles.replaceSync('h2 { color: purple; } p { color: red; }');
      shadow.adoptedStyleSheets = [styles];
    </script>
  </body>
</html>
